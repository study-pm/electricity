FROM node:18-alpine
# Базовый образ: минимальная версия Linux с Node.js 18.
# Это экономит место и ускоряет загрузку.

WORKDIR /app
# Рабочая директория внутри контейнера. Все дальнейшие команды будут выполняться здесь.

# COPY package*.json ./
COPY site/package*.json ./
# Копируются файлы зависимостей (package.json и package-lock.json).

RUN npm install
# Устанавливаются все npm-зависимости.

#COPY . .
COPY site/. .
# Копируется весь исходный код приложения внутрь контейнера.

EXPOSE 3000
# Оповещает Docker, что приложение слушает порт 3000 (стандарт для Express).

CMD ["node", "app.js"]
# Запускает приложение командой node app.js при старте контейнера.
